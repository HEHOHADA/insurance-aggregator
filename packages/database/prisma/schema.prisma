// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.1.x"]
}

generator erd {
  provider                  = "prisma-erd-generator"
  output                    = "./erd.png"
  theme                     = "forest"
  includeRelationFromFields = true
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Travel {
  id               String         @id @default(uuid()) @db.Uuid
  createdAt        DateTime       @default(now())
  url              String
  destination      String?
  startDate        DateTime
  endDate          DateTime
  price            Float
  currency         String
  companyId        Int
  company          Company        @relation(fields: [companyId], references: [id])
  approved         Boolean        @default(false)
  serviceProduct   ServiceProduct @relation(fields: [serviceProductId], references: [id])
  serviceProductId String         @unique @db.Uuid
}

model Company {
  id           Int      @id @default(autoincrement())
  createdAt    DateTime @default(now())
  name         String
  url          String
  logoUrl      String
  colorHexCode String
  Travel       Travel[]
}

model ServiceProduct {
  id                       String   @id @default(uuid()) @db.Uuid
  Travel                   Travel[]
  abroad                   Int?
  abroadTransportation     Int?
  accident                 Int?
  allergyArresting         Int?
  ambulatoryCare           Int?
  auto                     Int?
  aviaCargo                Int?
  childrenReturn           Int?
  chronicArresting         Int?
  civilLiability           Int?
  covid                    Int?
  deathRepatriation        Int?
  delayCargo               Int?
  denge                    Int?
  divingChamber            Int?
  doctorCall               Int?
  doctorTransportation     Int?
  drugRefund               Int?
  education                Int?
  foreign                  Int?
  hospitalTreatment        Int?
  insuredEscortReturn      Int?
  insuredLiving            Int?
  insuredReturn            Int?
  medicine                 Int?
  multipolicy              Int?
  office                   Int?
  pcr                      Int?
  phoneRefund              Int?
  pregnancy                Int?
  relativeIllReturn        Int?
  searchActivities         Int?
  sunburnAssistance        Int?
  thirdPartyTransportation Int?
  urgentStomatology        Int?
  work                     Int?
  disasterAssistance       Int?
  terrorAssistance         Int?
  document                 Int?
  insuredEscortLiving      Int?
  alcoholAssistance      Int?
  oncologyAssistance      Int?
  legal Int?
  observation Int?
  regularDelay Int?
  hotelCargo Int?
}
